-- TechCrunch Startup Analysis - SQLite Queries
-- Data Science Foundations Project

-- Task 1: Getting started, take a look at the startups table
SELECT *
FROM startups;

-- Task 2: Calculate the total number of companies in the table
SELECT COUNT(*)
FROM startups;

-- Task 3: Calculate the total value of all companies (SUM of valuation column)
SELECT SUM(valuation)
FROM startups;

-- Task 4: What is the highest amount raised by a startup?
SELECT MAX(raised)
FROM startups;

-- Task 5: Maximum amount raised during 'Seed' stage
SELECT MAX(raised)
FROM startups
WHERE stage = 'Seed';

-- Task 6: In what year was the oldest company founded?
SELECT MIN(founded)
FROM startups;

-- Task 7: Return the average valuation
SELECT AVG(valuation)
FROM startups;

-- Task 8: Return the average valuation in each category
SELECT category, AVG(valuation)
FROM startups
GROUP BY category;

-- Task 9: Return the average valuation in each category, rounded to 2 decimal places
SELECT category, ROUND(AVG(valuation), 2)
FROM startups
GROUP BY category;

-- Task 10: Average valuation by category, rounded to 2 decimal places, ordered highest to lowest
SELECT category, ROUND(AVG(valuation), 2) AS avg_valuation
FROM startups
GROUP BY category
ORDER BY avg_valuation DESC;

-- Task 11: Name of each category with total number of companies
SELECT category, COUNT(*)
FROM startups
GROUP BY category;

-- Task 12: Categories with more than 3 companies (most competitive markets)
SELECT category, COUNT(*) AS company_count
FROM startups
GROUP BY category
HAVING COUNT(*) > 3;

-- Task 13: Average size of startup in each location
SELECT location, AVG(employees) AS avg_size
FROM startups
GROUP BY location;

-- Task 14: Average size of startup in each location where average size is above 500
SELECT location, AVG(employees) AS avg_size
FROM startups
GROUP BY location
HAVING AVG(employees) > 500;
